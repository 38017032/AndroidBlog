
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>符合Material Design的抽屉导航效果： | Android博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="符合Material Design的抽屉导航效果：">
<meta property="og:type" content="article">
<meta property="og:title" content="符合Material Design的抽屉导航效果：">
<meta property="og:url" content="http://likebamboo.com/AndroidBlog/2015/04/30/navigation-drawer-styling-according-material-design/index.html">
<meta property="og:site_name" content="Android博客">
<meta property="og:description" content="符合Material Design的抽屉导航效果：">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/720/1*hLe32r_m-fWUQrnJCalKkQ.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*Vh9mKyCUMDCFMFjM8ZEG9Q.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/1267/1*Gg34WwPMo1ylOX7KLPaY0w.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/700/1*ncHm2VDOAU4GRN5Act_P5A.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/768/1*QfXDV7tpaGwEqil_l6Pe8Q.gif">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*XI72aAgZON-g0F_Teo6kiA.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*58WoVNOl-JIRyp1o3_f9JQ.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*v5KQiG7MNlpFdCjSk0WHqQ.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*JnT0ei6pp-M7Fn0ZZxl-yg.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*0K95PBc-Ym1quF4S4-svlw.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*eYUlXFl-nKp54CbhSqHy5Q.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*l38m8vKyELP23Fgo0VIYLg.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*cbbbhJcPwsrL6XuF_7B-BA.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*S7YeU9ekl1_nC03isgeVBw.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*guYsqqXCcQikqMNMVTL1_g.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*fTlbwdydeGKNznbliR2J-g.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*rzdSKrX4NgQqwPOeNReuTw.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*ubYKjE5BgQUnuf8vXBjucA.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*W0l0rAj_f08DcYiBKhnpYQ.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*WMsmw3UZ6kzBGaMCHPWgHA.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*ZsjyMCtqBLG4iq7_ypaLUA.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*Mn1OyDGujUgv3hXi-bBggw.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*BV3ByPvh4Elbq2MKPrE-Bg.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*BXfi8inb3rWh0gRCve5uCg.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*0_cj6ynaM0rDvBmQG0WJFw.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*zU5_BF4hNM3ESUqqOyn7Dw.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*X2iLimaiz8NgrdDtbcinFg.jpeg">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*COQpEPm-a2DLqdifPANmzw.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*8HEdHs9YQq35OKtsCmAwLQ.png">
<meta property="og:image" content="https://d262ilb51hltx0.cloudfront.net/max/800/1*JW5RFt4JfEahP9tqH3-bPg.png">
<meta property="og:updated_time" content="2015-06-29T14:23:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="符合Material Design的抽屉导航效果：">
<meta name="twitter:description" content="符合Material Design的抽屉导航效果：">
  
    <link rel="alternative" href="/AndroidBlog/atom.xml" title="Android博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="http://likebamboo.com/AndroidBlog/css/style.css" type="text/css">
  <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="http://likebamboo.com/AndroidBlog/" id="logo">Android博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="http://likebamboo.com/AndroidBlog/" id="subtitle">读万卷书</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="http://likebamboo.com/AndroidBlog/index.html">首页</a>
        
          <a class="main-nav-link" href="http://likebamboo.com/AndroidBlog/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/AndroidBlog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="likebamboo.com/AndroidBlog">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-navigation-drawer-styling-according-material-design" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="http://likebamboo.com/AndroidBlog/2015/04/30/navigation-drawer-styling-according-material-design/" class="article-date">
  <time datetime="2015-04-29T16:00:00.000Z" itemprop="datePublished">2015-04-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="http://likebamboo.com/AndroidBlog/categories/翻译/">翻译</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      符合Material Design的抽屉导航效果：
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="符合Material_Design的抽屉导航效果：">符合Material Design的抽屉导航效果：</h1><p><img src="https://d262ilb51hltx0.cloudfront.net/max/720/1*hLe32r_m-fWUQrnJCalKkQ.png" alt=""><br><a id="more"></a></p>
<h4 id="前言：">前言：</h4><p>现在看来，抽屉式导航<a href="http://goo.gl/w4FVWS" target="_blank" rel="external">已经成为主流导航模式之一</a>。尽管广受<a href="https://medium.com/@villainschorus/your-problem-goes-beyond-hamburgers-e0aae6a1576" target="_blank" rel="external">批评</a>，但我还是很喜欢该样式，因此我决定在我写的几个app上添加这个控件。这篇文章想通过介绍我觉得抽屉式导航有趣的地方，帮助阅读本文的 Android 开发者们学习到一些知识，同时从其他人的评论中学习到更多的东西。</p>
<p>这是三篇文章中的第二篇。欢迎查看第一篇和第三篇：</p>
<pre><code><span class="bullet">* </span>[<span class="link_label">Material Design下的抽屉导航的大小</span>](<span class="link_url">https://medium.com/@sotti/navigation-drawer-styling-under-material-design-f0767882e692</span>)
<span class="bullet">* </span>Material Design下的抽屉效果的行为（敬请期待）
</code></pre><p>你可以从下面查看Material Design指南上关于抽屉导航的部分：</p>
<pre><code><span class="bullet">* </span>[<span class="link_label">Navigation Drawer pattern</span>](<span class="link_url">http://www.google.com/design/spec/patterns/navigation-drawer.html</span>)
<span class="bullet">* </span>[<span class="link_label">Material Design metrics and keylines</span>](<span class="link_url">http://www.google.com/design/spec/layout/metrics-keylines.html#</span>)
<span class="bullet">* </span>[<span class="link_label">Toolbar metrics</span>](<span class="link_url">http://www.google.com/design/spec/layout/structure.html#structure-toolbars</span>)
</code></pre><h3 id="开始：">开始：</h3><p>抽屉式导航一直以来都是被争论的热点话题。当 Material Design 规范刚发布的时候，抽屉式导航就在规范中处在一个尴尬的位置，使得开发者们很<a href="http://goo.gl/q3dnCI" target="_blank" rel="external">困惑</a>到底要不要使用抽屉式导航，甚至在 Material Design 规范下的<a href="https://plus.google.com/+SebastianoPoggi/posts/6MFgMeRLrrg" target="_blank" rel="external">开发指南出来以后</a>，有关如何在 Android 开发中对待抽屉式导航都没有一个清晰的答案。</p>
<p>现在，虽然这儿已有一些漂亮的<a href="https://plus.google.com/+MikePenz/posts/Erwn9mDZszr" target="_blank" rel="external">库</a>，甚至有一些Google的<a href="https://github.com/google/iosched" target="_blank" rel="external">源码</a>能拿来看看… 但是，你之所以还来到这里，可能是因为你<a href="http://i3.kym-cdn.com/photos/images/facebook/000/234/765/b7e.jpg" target="_blank" rel="external">热衷于编程</a>。</p>
<p>在这篇文章里，我将会谈论如何使用抽屉的样式，但是并不会完全涉及 Material Design 指南上的所有样式，只是捡一些我认为需要强调的东西。</p>
<p>准备好了吗？</p>
<h3 id="位置">位置</h3><p>在过去，抽屉式导航栏 和 ActionBar 处于同一个 View 层级</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*Vh9mKyCUMDCFMFjM8ZEG9Q.png" alt=""></p>
<p>随着这种设计模式的发展，其中相互矛盾的地方也开始浮出水面……在 Material Design 中很清晰地指出：处于不同 View 层级的两个页面，是不能共存于同一个父布局中的同一个 View 层级的。有关这个问题引发了<a href="https://plus.google.com/+RomanNurik/posts/3G8zYvN5oRC" target="_blank" rel="external">许多讨论</a>，但<a href="http://goo.gl/SHrQmd" target="_blank" rel="external">更重要的是</a>， <a href="http://goo.gl/FghQhb" target="_blank" rel="external">Google 并没有给出好的解释</a>，不过最后抽屉式导航还是得到了一个被认可的定义：</p>
<p>左抽屉式导航打开后，导航栏的高度应该和屏幕一致，但要低于状态栏。此外，其他任何在抽屉层以下的内容都应该被阴影覆盖，但这些内容又是可见的。</p>
<blockquote>
<p>左侧的导航抽屉横跨屏幕的高度并覆盖下方的状态栏。抽屉下的东西将会变暗。但仍是可见的。</p>
</blockquote>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/1267/1*Gg34WwPMo1ylOX7KLPaY0w.png" alt=""></p>
<p>注意图中右边的抽屉略有不同。</p>
<p>注：我假设你使用的是<a href="https://chris.banes.me/2014/10/17/appcompat-v21/" target="_blank" rel="external">AppCompat </a> <a href="https://developer.android.com/reference/android/widget/Toolbar.html" target="_blank" rel="external">toolbar</a></p>
<p>既然toolbar是View 层级的另一个view，不妨就就将toolbar置于抽屉的layout之下，跟其他的view一样。</p>
<p>如果你在Google应用上看到如下的东西也不用担心：</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/700/1*ncHm2VDOAU4GRN5Act_P5A.png" alt=""></p>
<p>Google+ Photos可能是最后一个使用抽屉，却没有覆盖ActionBar/Toolbar的Google应用，但是我想他应该很快就会被改过来。</p>
<h3 id="旋转标题图标">旋转标题图标</h3><p>你还记得当抽屉打开时那个ActionBar/Toolbar中的漂亮的图标动画吗？这个动画在Holo主题下并不是很好看，在 Matarial Design 下却很漂亮。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/768/1*QfXDV7tpaGwEqil_l6Pe8Q.gif" alt=""></p>
<p>我觉得当它第一次出现在Google Play Store时，很多的开发者和设计师都会很喜欢它。</p>
<p>仅在那数周之后，抽屉式导航上就<a href="https://lh6.googleusercontent.com/-9oPeSA7FUkI/VOs530mLbLI/AAAAAAABapc/ekQNTZPXyoE/w499-h281-no/tumblr_inline_nk2y80nOF91rllljr.gif" target="_blank" rel="external">开始出现该动画</a>。那时它显得很特别，因为在Google Material Design videos 和 promo features上都出现了它的身影。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*XI72aAgZON-g0F_Teo6kiA.jpeg" alt=""></p>
<p>我记得很多人在第一次遵循 Matarial Design 规范开发时，就是使用这个汉堡/箭头图标动画。Google第一次实现这个抽屉式导航栏的时候，并不是把它放在 ToolBar 的上面，因此你可以看到这个精美的动画。但是 Material Design 指南发布后，出现了一个很奇怪的现象，很多的Google应用都在做与 Material Design 指南背道而驰的事情。即使是现在我写这篇博文的时候，大部分的应用还是在遵循着 Material Desgin 指南，但我还是希望抽屉式导航栏都能在 Toolbar 上面。</p>
<p>在我看来，Material Design发布的已经有点晚了。因为图标动画已出现在发布了的SDK中并且在默认情况下被使用了。</p>
<p>由于某些原因，即使要求把抽屉导航栏布局到其他的view之上，但大多数的google应用还是会有这样的动画(注：在写下这篇文章的时候，Gmail和Inbox已经停用了)，即使你很难发现它（但如果你仔细看的话，在缓慢的移动抽屉式导航时，还是可以看到动画的）。让我很不爽的是：一旦你看到了，又会每次都忍不住去看，得不偿失。因此，我也决定关掉这种动画效果。</p>
<p>第一眼看来，DrawerArrowStyle的参数很容易懂：</p>
<p><a href="https://developer.android.com/reference/android/support/v7/mediarouter/R.attr.html#spinBars" target="_blank" rel="external">&lt; item name=”spineBars”&gt; true &lt; /item&gt;</a></p>
<p><a href="https://developer.android.com/reference/android/support/v7/appcompat/R.attr.html#spinBars" target="_blank" rel="external">Android Developers中定义如下：</a></p>
<blockquote>
<p>在移动抽屉导航栏的过程中，无论图标是否应该旋转，都要设定一个布尔值：要么是 true，要么是false.</p>
</blockquote>
<p>但问题是，这并不能起到作用。如果你设置为false，bars就会以一种奇怪的方式旋转。</p>
<p>我发现的解决的方式是：覆写onDrawerSlide方法。见下面链接的Gist。</p>
<blockquote>
<p>既然这个图标动画的可视性较差，那就没有必要再保留它了。如果你不注意看，你就看不到它，但当你注意看并看到的时候，又不知道是怎么回事。</p>
</blockquote>
<h3 id="资料图片">资料图片</h3><p>这张个人头像是圆形的，我们有很多方法能让图片变成圆形，但我每次需要实现这个需求想起的都是 <a href="https://plus.google.com/+RomainGuy/about" target="_blank" rel="external">Romain Guy</a> 的<a href="http://www.curious-creature.com/2012/12/11/android-recipe-1-image-with-rounded-corners/comment-page-1/" target="_blank" rel="external">方法</a>。所以这次我还是使用了 Romain Guy 的 CircleImageView，毕竟“信RM，无BUG”。有人可能会提到 Google IO 大会上被使用的那个<a href="https://github.com/google/iosched/blob/master/android/src/main/java/com/google/samples/apps/iosched/ui/widget/BezelImageView.java" target="_blank" rel="external"> App</a>，我还没去了解过它的具体实现，可能值得我们看一看吧。</p>
<p>在Google Paly Movies与Google Paly Books上，这个图片有一个白色的边框。而其他的Google app上却没有。Google+和Hangouts的资料图片在toolbar上，不过却有白边框。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*58WoVNOl-JIRyp1o3_f9JQ.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*v5KQiG7MNlpFdCjSk0WHqQ.jpeg" alt=""></p>
<p>注意：<a href="https://medium.com/@sotti/navigation-drawer-styling-under-material-design-f0767882e692" target="_blank" rel="external">查看资料图片大小</a></p>
<blockquote>
<p>资料图片是圆形的，通常没有边框。建议你通过Romain Guy推出的库来获得圆形。</p>
</blockquote>
<h3 id="封面图片">封面图片</h3><p>封面图片（不同于资料图片），是账号/头像部分的背景（就是抽屉式导航的上部，通常你可以在此切换账号，查看昵称，email和你的资料图片）。</p>
<p>这块的文字是白色的，并且要确保能看的见，你可以应用一个前景或者半透明的黑色来覆盖封面图片。我试了一下，发现40-50% 的黑色是最好的。要注意的是，不要既弄得图片不可见，又弄得文字没法读。</p>
<p>我是在FrameLayout中加一个前景。但我不知道这是不是最好的方法，欢迎大家交流。我并没有实现在账号切换的功能，而且这整个layout/section都是可点击的，有touch反馈，或者是Lollipop中的ripple，或者两者。当然你也可以使用<a href="https://developer.android.com/reference/android/widget/ImageView.ScaleType.html" target="_blank" rel="external">centerCrop </a>scaleType 让它更漂亮。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*JnT0ei6pp-M7Fn0ZZxl-yg.jpeg" alt=""></p>
<p>仔细看一下这个图片，你会发现其实它在状态栏下也是可见的。当我写下这行字的时候，Google apps正在应用这种效果。Gmail，Inbox，Keep，Playe Story和Hangouts已经实现了，而其他的也准备实现它。当然，这只是Lollipop及以上的版本中才会有的效果。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*0K95PBc-Ym1quF4S4-svlw.png" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*eYUlXFl-nKp54CbhSqHy5Q.png" alt=""></p>
<p>即使是现在，在Play Store 上的Google IO 的有些应用的抽屉式导航也是完全错的，但他们在改良代码，并且准备下一个版本了（不过好像有段时间了… 可能会在今年几个月后的Google IO 大会之前更新）</p>
<p>比较神奇的是<a href="http://goo.gl/07TJnm" target="_blank" rel="external">Google ScrimInsets layout</a>。拷贝，粘贴，然后自己试着修修改改就OK了。我觉得Google的人员应该比我做的更好。深入的阅读一下gist上的代码，了解一下关于 themes/styles 的更多的详细内容，能让你有更好地表现。</p>
<p>让我有点疑惑就是ScrimInsets layout能不能应用到Lollipop以下的版本中。我知道在Kit Kat中是可行的，但是Google并没这样做。可以肯定的是“挤满”状态栏和/或导航栏在Lollipop下的版本中并不存在，这可能是背后的一个原因。</p>
<p>注意：<a href="https://medium.com/@sotti/navigation-drawer-styling-under-material-design-f0767882e692" target="_blank" rel="external">查看封面照片的大小</a></p>
<blockquote>
<p>只有在Lollipop中，抽屉导航会出现在状态栏之下。在Lollipop之下的版本中，挤满状态或导航栏并不是什么事情，这可能是其中的原因。</p>
</blockquote>
<h3 id="可选中行的背景，图标和文字">可选中行的背景，图标和文字</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*l38m8vKyELP23Fgo0VIYLg.png" alt=""></p>
<p>当要更改抽屉中的主要行的样式的时候，对每行的每个元素，我们都要处理其中的三个子元素（背景，图标，文本）和3个不同的状态（默认，选中，点击）。但每一个开发者都需要明白：开发 App 不需要完全遵循<a href="http://www.google.com/design/spec/patterns/navigation-drawer.html" target="_blank" rel="external">规范</a> ，但是了解规范又是必不可少的，大家可以看看 Google 的 App 和其他的一些好看的apps是怎样体现 Material Desgin 所包含的思想的，把你从这些 App 里总结出来的东西应用到你的 App 中。</p>
<p>Okay，现在来看一下Google apps 都有哪些特征。在下面的图片中，第一行是默认的状态，第二行是选中的状态，第三行是点击的状态。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*cbbbhJcPwsrL6XuF_7B-BA.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*S7YeU9ekl1_nC03isgeVBw.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*guYsqqXCcQikqMNMVTL1_g.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*fTlbwdydeGKNznbliR2J-g.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*rzdSKrX4NgQqwPOeNReuTw.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*ubYKjE5BgQUnuf8vXBjucA.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*W0l0rAj_f08DcYiBKhnpYQ.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*WMsmw3UZ6kzBGaMCHPWgHA.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*ZsjyMCtqBLG4iq7_ypaLUA.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*Mn1OyDGujUgv3hXi-bBggw.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*BV3ByPvh4Elbq2MKPrE-Bg.jpeg" alt=""></p>
<p>虽然上面的图片看起来很相似，但其实它们是不一样的。总结一下就是：</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*BXfi8inb3rWh0gRCve5uCg.jpeg" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*0_cj6ynaM0rDvBmQG0WJFw.png" alt=""></p>
<blockquote>
<p>Google apps看起来十分的连贯，但是当你注意下细节时就会发现，此时抽屉式导航的选中行有超过10多种的样式。</p>
</blockquote>
<ul>
<li>拇指规则：</li>
</ul>
<p>在自己不断地尝试并参考了设计指南与Google apps后，这是我提出的一些想法：</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*zU5_BF4hNM3ESUqqOyn7Dw.png" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*X2iLimaiz8NgrdDtbcinFg.jpeg" alt=""></p>
<h3 id="如何实现">如何实现</h3><p>尽管我想知道，但是没人告诉我他是怎么来实现的，所以我自己就这么做了。</p>
<p>首先，使用两个drawable作为背景。一个放在res/drawable-v21里，为Lollipop及以上的版本使用；另一个在res/drawable中，目标是更低的版本。因为ripple在5.0以下的版本中并不存在。</p>
<blockquote>
<p>仅在Lollipop及以上的版本中使用ripple。Ripples并不支持5.0以下的版本。</p>
</blockquote>
<p>每当你点击一行的时候，ripple就会出现，不管它选中与否。因此，你在res/drawable-v21中的是有一组包含ripple的items的selector。这是因为我们希望对于选中和未选中的行，在被点击时都能显示相同的ripple，但是未选中的背景是白色，而选中的item的背景是grey_200。</p>
<p>另外在res/drawable中，你需要的是一个不包含ripple的selector。</p>
<h3 id="图标">图标</h3><p>在最近的几个月里，我尝试让同一图标呈现出不同的颜色来。 因此，我就把所有的图标都先弄成白色，然后在用想要的颜色进行<a href="https://developer.android.com/reference/android/widget/ImageView.html#attr_android:tint" target="_blank" rel="external">着色</a>。这样做的优点是，你不必每次创建一个新的图标。<a href="https://github.com/google/material-design-icons" target="_blank" rel="external">你可以先从Google上得到不同大小和颜色的这些图标</a>，再用不同的颜色进行二次加工，看看那种效果最好。另外你要是使用不同颜色的同一图标的话，要记得保存成相同的大小。如果你需要根据状态（点击，选中…）来改变它的颜色的话，可以设置一个<a href="https://developer.android.com/guide/topics/resources/color-list-resource.html" target="_blank" rel="external">color state list resource</a>。</p>
<p>我实现的方式是在一个<a href="https://github.com/Sottti/MaterialDesignNavDrawer/blob/master/app/src/main/java/com/demo/materialdesignnavdrawer/customViews/TintOnStateImageView.java" target="_blank" rel="external">自定义的ImageView</a>中编写的，因为color state list在Kit Kat及其一下的版本中并不可用（android:tint中可以使用color，但是不能用color state）。</p>
<p>看一下下面链接中的gist中我是如何做的。如果你发现了更好的方式，或错误，请反馈给我。</p>
<h3 id="Header和footer的表现">Header和footer的表现</h3><p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*COQpEPm-a2DLqdifPANmzw.png" alt=""></p>
<p>头部（aka account section）中有些是不可滑动的，而有些是可滑动的。以我看来，如果可以的话，最好设计成不可滑动的。这样的话，抽屉式导航看起来更美观，连贯，易用。</p>
<p>底部（aka setting and support）可以是可滑动的，也可以不是。如果你看一下Google Apps，就会发现有些是不可滑动的，而有些是在可滑动的scroll的底部。如果你有需求是不能放在抽屉的底部的话，那就放在能滑动的列表的后面。</p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*8HEdHs9YQq35OKtsCmAwLQ.png" alt=""></p>
<p><img src="https://d262ilb51hltx0.cloudfront.net/max/800/1*JW5RFt4JfEahP9tqH3-bPg.png" alt=""></p>
<p>再次强调一下，在我看来，不可滑动是最好的方式，但是也可以有例外。比如，当头部不可滑动时，有些条目就被固定了，因此在抽屉里就有了可滚动的区域了。但是如果可滚动的空间太小，那么看起来就很糟糕了（只有一行或两行），要想得到更多的空间，那么一个好的办法就是将footer 解除固定。</p>
<blockquote>
<p>头部和底部理应被固定住，除非抽屉需要更多的空间以表现更出色。</p>
</blockquote>
<p>由于抽屉选项，路径，结构…的不同，因此这里其实并没有什么拇指法则。</p>
<h3 id="资源">资源</h3><p>-<a href="https://github.com/google/material-design-icons" target="_blank" rel="external">Google Official Material Design icons</a><br>-<a href="http://www.google.com/design/spec/style/color.html" target="_blank" rel="external">Material Design Color Definitions</a></p>
<h3 id="代码">代码</h3><p>-<a href="https://github.com/Sottti/MaterialDesignNavDrawer" target="_blank" rel="external">Github项目地址</a></p>
<h3 id="总结">总结</h3><p>这是关于如何更改抽屉式导航的样式，你仍需要花费很多时间来想清楚你想做成什么样，而这要比做到花费的时间要长的多。</p>
<p>如果你想要了解更改抽屉式导航的样式，请看看另两篇文章。</p>
<p>欢迎评论，反馈… </p>
<p>Hava fun！</p>
<blockquote>
<ul>
<li>原文链接 : <a href="https://medium.com/@sotti/navigation-drawer-styling-according-material-design-5306190da08f" target="_blank" rel="external">Navigation Drawer styling according to Material Design</a></li>
<li>译者 : <a href="https://github.com/wly2014" target="_blank" rel="external">wly2014</a></li>
<li>校对者: <a href="https://github.com/chaossss" target="_blank" rel="external">chaossss</a></li>
<li>状态 :  校对完成</li>
</ul>
</blockquote>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://likebamboo.com/AndroidBlog/2015/04/30/navigation-drawer-styling-according-material-design/" data-id="cibk39tkj001n50flqquozs9r" class="article-share-link" data-share="baidu">分享到</a>
      

      
        <a href="http://likebamboo.com/AndroidBlog/2015/04/30/navigation-drawer-styling-according-material-design/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/材料设计/">材料设计</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="http://likebamboo.com/AndroidBlog/2015/04/30/Instagram-with-Material-Design-concept-is-getting-real/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          实现Instagram的Material Design概念设计
        
      </div>
    </a>
  
  
    <a href="http://likebamboo.com/AndroidBlog/2015/04/29/androids-font-renderer/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">安卓字体渲染器</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2015/04/30/navigation-drawer-styling-according-material-design/" data-title="符合Material Design的抽屉导航效果：" data-url="http://likebamboo.com/AndroidBlog/2015/04/30/navigation-drawer-styling-according-material-design/"></div>
  </section>
</section>
      
      <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/Android架构/">Android架构</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/翻译/">翻译</a><span class="category-list-count">39</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/翻译/单元测试/">单元测试</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/翻译/自动化测试/">自动化测试</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/翻译/连载/">连载</a><span class="category-list-count">4</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/设计模式/">设计模式</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/连载/">连载</a><span class="category-list-count">16</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="http://likebamboo.com/AndroidBlog/categories/连载/开源项目解析/">开源项目解析</a><span class="category-list-count">15</span></li></ul></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/AppCompat/">AppCompat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/AsyncTask/">AsyncTask</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/Builder模式/">Builder模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/Drawables/">Drawables</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/MVP/">MVP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/MVVM/">MVVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/Proxy模式/">Proxy模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/Support-Library/">Support Library</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/主题/">主题</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/任务调度/">任务调度</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/内存泄露/">内存泄露</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/动画/">动画</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/单例模式/">单例模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/原型模式/">原型模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/图形管道/">图形管道</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/图片缓存/">图片缓存</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/基础/">基础</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/外观模式/">外观模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/多进程/">多进程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/字体/">字体</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/小技巧/">小技巧</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/工具/">工具</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/开源库介绍/">开源库介绍</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/开源项目解析/">开源项目解析</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/性能优化/">性能优化</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/拍照/">拍照</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/材料设计/">材料设计</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/桥接模式/">桥接模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/模板方法模式/">模板方法模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/测试/">测试</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/特效/">特效</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/策略模式/">策略模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/网络请求/">网络请求</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/翻译/">翻译</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/自动化/">自动化</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/视频/">视频</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/责任链模式/">责任链模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/连载/">连载</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="http://likebamboo.com/AndroidBlog/tags/迭代器模式/">迭代器模式</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="http://likebamboo.com/AndroidBlog/archives/2015/05/">五月 2015</a><span class="archive-list-count">40</span></li><li class="archive-list-item"><a class="archive-list-link" href="http://likebamboo.com/AndroidBlog/archives/2015/04/">四月 2015</a><span class="archive-list-count">28</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://likebamboo.com/AndroidBlog/2015/05/03/android-open-project_analysis_holographlibrary/">Android 开源项目源码解析之HoloGraphLibrary 源码解析</a>
          </li>
        
          <li>
            <a href="http://likebamboo.com/AndroidBlog/2015/05/03/android-open-project-analysis_event-bus/">Android 开源项目源码解析之EventBus 源码解析</a>
          </li>
        
          <li>
            <a href="http://likebamboo.com/AndroidBlog/2015/05/03/improving-comment-rendering-on-android/">Instagram是如何提升TextView渲染性能的</a>
          </li>
        
          <li>
            <a href="http://likebamboo.com/AndroidBlog/2015/05/03/android-open-project-analysis_circular-floating-action-menu/">Android 开源项目源码解析之CircularFloatingActionMenu 源码解析</a>
          </li>
        
          <li>
            <a href="http://likebamboo.com/AndroidBlog/2015/05/03/android-open-project-analysis_dagger/">Android 开源项目源码解析之Dagger 源码解析</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 likebamboo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="http://likebamboo.com/AndroidBlog/index.html" class="mobile-nav-link">首页</a>
  
    <a href="http://likebamboo.com/AndroidBlog/archives" class="mobile-nav-link">归档</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="http://likebamboo.com/AndroidBlog/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"likebamboo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>window._bd_share_config={"common":{},"share":{"bdCustomStyle":"http://likebamboo.com/AndroidBlog/css/bdshare.css"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="http://likebamboo.com/AndroidBlog/js/script.js" type="text/javascript"></script>

</div>
</body>
</html>
